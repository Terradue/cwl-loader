{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":"<p>The cwl_loader Python library is a helper library to simplify the loading operations of CWL documents to cwl-utils object models.</p>"},{"location":"#api-doc","title":"API doc","text":"<p>Refer to latest published API documentation to explore the utilities.</p>"},{"location":"examples/","title":"Examples","text":"In\u00a0[1]: Copied! <pre>from cwl_loader import load_cwl_from_location\n\ncwl_document = load_cwl_from_location('https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl')\n</pre> from cwl_loader import load_cwl_from_location  cwl_document = load_cwl_from_location('https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl') <pre>2025-09-24 07:17:28.337 | DEBUG    | cwl_loader:load_cwl_from_location:231 - Loading CWL document from https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl...\n</pre> <pre>2025-09-24 07:17:28.565 | DEBUG    | cwl_loader:_load_cwl_from_stream:234 - Reading stream from https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl...\n</pre> <pre>2025-09-24 07:17:28.615 | DEBUG    | cwl_loader:load_cwl_from_stream:206 - CWL data of type &lt;class 'ruamel.yaml.comments.CommentedMap'&gt; successfully loaded from stream\n</pre> <pre>2025-09-24 07:17:28.615 | DEBUG    | cwl_loader:load_cwl_from_yaml:133 - Updating the model from version 'v1.0' to version 'v1.2'...\n</pre> <pre>2025-09-24 07:17:28.616 | DEBUG    | cwl_loader:load_cwl_from_yaml:144 - Raw CWL document successfully updated to v1.2!\n</pre> <pre>2025-09-24 07:17:28.617 | DEBUG    | cwl_loader:load_cwl_from_yaml:148 - Parsing the raw CWL document to the CWL Utils DOM...\n</pre> <pre>2025-09-24 07:17:31.078 | DEBUG    | cwl_loader:load_cwl_from_yaml:161 - Raw CWL document successfully parsed to the CWL Utils DOM!\n</pre> <pre>2025-09-24 07:17:31.079 | DEBUG    | cwl_loader:load_cwl_from_yaml:163 - Dereferencing the steps[].run...\n</pre> <pre>2025-09-24 07:17:31.079 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://github.com/eoap/schemas/releases/download/0.2.0/stac-api-client.0.2.0.cwl must be externally imported...\n</pre> <pre>2025-09-24 07:17:31.080 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://github.com/eoap/schemas/releases/download/0.2.0/stac-api-client.0.2.0.cwl - uri: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl\n</pre> <pre>2025-09-24 07:17:31.080 | DEBUG    | cwl_loader:load_cwl_from_location:231 - Loading CWL document from https://github.com/eoap/schemas/releases/download/0.2.0/stac-api-client.0.2.0.cwl...\n</pre> <pre>2025-09-24 07:17:31.194 | DEBUG    | cwl_loader:_load_cwl_from_stream:234 - Reading stream from https://github.com/eoap/schemas/releases/download/0.2.0/stac-api-client.0.2.0.cwl...\n</pre> <pre>2025-09-24 07:17:31.202 | DEBUG    | cwl_loader:load_cwl_from_stream:206 - CWL data of type &lt;class 'ruamel.yaml.comments.CommentedMap'&gt; successfully loaded from stream\n</pre> <pre>2025-09-24 07:17:31.203 | DEBUG    | cwl_loader:load_cwl_from_yaml:146 - No needs to update the Raw CWL document since it targets already the v1.2\n</pre> <pre>2025-09-24 07:17:31.204 | DEBUG    | cwl_loader:load_cwl_from_yaml:148 - Parsing the raw CWL document to the CWL Utils DOM...\n</pre> <pre>2025-09-24 07:17:31.950 | DEBUG    | cwl_loader:load_cwl_from_yaml:161 - Raw CWL document successfully parsed to the CWL Utils DOM!\n</pre> <pre>2025-09-24 07:17:31.951 | DEBUG    | cwl_loader:load_cwl_from_yaml:163 - Dereferencing the steps[].run...\n</pre> <pre>2025-09-24 07:17:31.952 | DEBUG    | cwl_loader:load_cwl_from_yaml:170 - steps[].run successfully dereferenced! Dereferencing the FQNs...\n</pre> <pre>2025-09-24 07:17:31.953 | DEBUG    | cwl_loader:load_cwl_from_yaml:174 - CWL document successfully dereferenced! Now verifying steps[].run integrity...\n</pre> <pre>2025-09-24 07:17:31.953 | DEBUG    | cwl_loader:load_cwl_from_yaml:178 - All steps[].run link are resolvable! \n</pre> <pre>2025-09-24 07:17:31.954 | DEBUG    | cwl_loader:load_cwl_from_yaml:181 - Sorting Process instances by dependencies....\n</pre> <pre>2025-09-24 07:17:31.954 | DEBUG    | cwl_loader:load_cwl_from_yaml:183 - Sorting process is over.\n</pre> <pre>2025-09-24 07:17:31.955 | DEBUG    | cwl_loader:_load_cwl_from_stream:243 - Stream from https://github.com/eoap/schemas/releases/download/0.2.0/stac-api-client.0.2.0.cwl successfully load!\n</pre> <pre>2025-09-24 07:17:31.956 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl#convert-search must be externally imported...\n</pre> <pre>2025-09-24 07:17:31.957 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl - uri: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl\n</pre> <pre>2025-09-24 07:17:31.957 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl#detect_water_body must be externally imported...\n</pre> <pre>2025-09-24 07:17:31.958 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl - uri: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl\n</pre> <pre>2025-09-24 07:17:31.958 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl#stac must be externally imported...\n</pre> <pre>2025-09-24 07:17:31.959 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl - uri: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl\n</pre> <pre>2025-09-24 07:17:31.959 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl#stac-zarr must be externally imported...\n</pre> <pre>2025-09-24 07:17:31.960 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl - uri: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl\n</pre> <pre>2025-09-24 07:17:31.960 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl#crop must be externally imported...\n</pre> <pre>2025-09-24 07:17:31.961 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl - uri: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl\n</pre> <pre>2025-09-24 07:17:31.961 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl#norm_diff must be externally imported...\n</pre> <pre>2025-09-24 07:17:31.961 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl - uri: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl\n</pre> <pre>2025-09-24 07:17:31.962 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl#otsu must be externally imported...\n</pre> <pre>2025-09-24 07:17:31.962 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl - uri: https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl\n</pre> <pre>2025-09-24 07:17:31.963 | DEBUG    | cwl_loader:load_cwl_from_yaml:170 - steps[].run successfully dereferenced! Dereferencing the FQNs...\n</pre> <pre>2025-09-24 07:17:31.963 | DEBUG    | cwl_loader:load_cwl_from_yaml:174 - CWL document successfully dereferenced! Now verifying steps[].run integrity...\n</pre> <pre>2025-09-24 07:17:31.964 | DEBUG    | cwl_loader:load_cwl_from_yaml:178 - All steps[].run link are resolvable! \n</pre> <pre>2025-09-24 07:17:31.964 | DEBUG    | cwl_loader:load_cwl_from_yaml:181 - Sorting Process instances by dependencies....\n</pre> <pre>2025-09-24 07:17:31.965 | DEBUG    | cwl_loader:load_cwl_from_yaml:183 - Sorting process is over.\n</pre> <pre>2025-09-24 07:17:31.965 | DEBUG    | cwl_loader:_load_cwl_from_stream:243 - Stream from https://github.com/eoap/zarr-cloud-native-format/releases/download/0.3.0/app-water-bodies.0.3.0.cwl successfully load!\n</pre> In\u00a0[2]: Copied! <pre>from cwl_loader import dump_cwl\nimport sys\n\ndump_cwl(process=cwl_document, stream=sys.stderr)\n</pre> from cwl_loader import dump_cwl import sys  dump_cwl(process=cwl_document, stream=sys.stderr) <pre>cwlVersion: v1.2\n$graph:\n- id: stac-zarr\n  class: CommandLineTool\n  inputs:\n  - id: stac_catalog\n    type: Directory\n    inputBinding:\n      prefix: --stac-catalog\n  outputs:\n  - id: zarr_stac_catalog\n    type: Directory\n    outputBinding:\n      glob: .\n  requirements:\n  - class: InlineJavascriptRequirement\n  - class: EnvVarRequirement\n    envDef:\n    - envName: PATH\n      envValue: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n    - envName: PYTHONPATH\n      envValue: /app\n  - class: ResourceRequirement\n    coresMax: 1\n    ramMax: 512\n  hints:\n  - class: DockerRequirement\n    dockerPull: \n      ghcr.io/eoap/zarr-cloud-native-format/stac-zarr@sha256:5d3522f67b6ee73276563e01b436772161fd8e1658149e38e64615d296170692\n  cwlVersion: v1.2\n  baseCommand:\n  - python\n  - -m\n  - app\n  arguments: []\n  $namespaces: &amp;id001\n    s: https://schema.org/\n- id: water-bodies\n  class: Workflow\n  label: Water bodies detection based on NDWI and otsu threshold\n  doc: Water bodies detection based on NDWI and otsu threshold applied to \n    Sentinel-2 COG STAC items\n  inputs:\n  - id: stac_api_endpoint\n    label: STAC API endpoint\n    doc: STAC API endpoint\n    type: |-\n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\n  - id: search_request\n    label: STAC search request\n    doc: STAC search request\n    type: |-\n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\n  - id: bands\n    label: bands used for the NDWI\n    doc: bands used for the NDWI\n    default:\n    - green\n    - nir\n    type:\n      name: _:40c762a6-1b82-4e59-9699-b2a3673d2d29\n      items: string\n      type: array\n  outputs:\n  - id: zarr_stac_catalog\n    outputSource:\n    - stac_zarr/zarr_stac_catalog\n    type: Directory\n  - id: stac_catalog\n    outputSource:\n    - stac/temp_stac_catalog\n    type: Directory\n  requirements:\n  - class: ScatterFeatureRequirement\n  - class: SubworkflowFeatureRequirement\n  - class: SchemaDefRequirement\n    types:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Date\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Date/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Duration\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Duration/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Email\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Email/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Hostname\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Hostname/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNEmail\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNEmail/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNHostname\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNHostname/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv4\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv4/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv6\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv6/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRI\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRI/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRIReference\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRIReference/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#JsonPointer\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#JsonPointer/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Password\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Password/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#RelativeJsonPointer\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#RelativeJsonPointer/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#UUID\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#UUID/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URIReference\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URIReference/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URITemplate\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URITemplate/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Time\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Time/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType/Point\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/coordinates\n        type:\n          name: _:179e9d0e-decb-4c50-90e3-0ee9b8def22c\n          items: double\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/bbox\n        type:\n          name: _:71756cc4-7db0-487b-abfe-a6c44a6435bf\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType/LineString\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/coordinates\n        type:\n          name: _:0d6b107b-5c2b-4d10-be53-d090a32315c8\n          items: double\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/bbox\n        type:\n          name: _:29cb1814-baee-45ef-8e6d-3755f44e4e8a\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType/Polygon\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/coordinates\n        type:\n          name: _:645e4c7d-0411-49dc-9e50-d6491e9fac8e\n          items:\n            name: _:bf742d25-3ecd-4c42-8157-3a0ea3597a22\n            items: double\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/bbox\n        type:\n          name: _:5e23a304-1faa-4b56-b9f6-e5330a338576\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType/MultiPoint\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/coordinates\n        type:\n          name: _:a2688e1a-a234-42e6-b6ec-9a9bce39aa81\n          items:\n            name: _:e2712abb-bbed-4dbb-8665-e97640357951\n            items: double\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/bbox\n        type:\n          name: _:edcfa610-5388-48c7-9dab-ea3e1370e39e\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType/MultiLineString\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/coordinates\n        type:\n          name: _:31c75abe-0581-49f8-801e-4982e0a6c82c\n          items:\n            name: _:d99b06e1-0860-41b9-9eba-afa70c97a699\n            items:\n              name: _:ef3a735f-5956-4f81-b056-587e2a561099\n              items: double\n              type: array\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/bbox\n        type:\n          name: _:1a502b75-1e2d-431d-859d-6dcdd97f3fc4\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType/MultiPolygon\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/coordinates\n        type:\n          name: _:1f0c97fe-840f-44c0-9e51-5d151b509f48\n          items:\n            name: _:744819b6-6164-401a-8163-f19594ccff6d\n            items:\n              name: _:0633c8a5-7d1b-46f5-a3e3-8979bd752459\n              items:\n                name: _:29303098-3c43-4fa5-87de-80bca808b892\n                items: double\n                type: array\n              type: array\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/bbox\n        type:\n          name: _:657534ab-d704-4e77-976f-b3ecf7bca554\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType/Feature\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/id\n        doc: \"Identifier\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/geometry\n        type:\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/bbox\n        type:\n          name: _:ed2386fc-d35c-4e55-a341-d977a4326633\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType/GeometryCollection\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/geometries\n        type:\n          name: _:ff744278-0efe-4fd7-a0b4-78857c8c2a11\n          items:\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/bbox\n        type:\n          name: _:496831bd-351d-42e5-a0f8-00bc8cbcbdd5\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/href\n        doc: \"i.e. http://data.example.com/buildings/123\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/rel\n        doc: \"i.e. alternate\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/type\n        doc: \"i.e. application/geo+json\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/hreflang\n        doc: \"i.e. en\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/title\n        doc: \"i.e. Trierer Strasse 70, 53115 Bonn\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/length\n        type: int\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType/FeatureCollection\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/features\n        type:\n          name: _:fda353e3-c12e-42c1-9ae9-092835ef07b9\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/links\n        type:\n          name: _:4adf378c-5447-426e-b7bb-6a0b998619c8\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/timeStamp\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/numberMatched\n        type: int\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/numberReturned\n        type: int\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair/key\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint/url\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint/headers\n        type:\n        - 'null'\n        - name: _:0723a754-dfd6-44a2-a808-82e4bab1eb11\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval/start\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval/end\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields/include\n        type:\n        - 'null'\n        - name: _:fcebe76f-ee86-4bb5-ba00-3a1042e63c8c\n          items: string\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields/exclude\n        type:\n        - 'null'\n        - name: _:05559eee-b434-456f-9ca1-aea29078b9be\n          items: string\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang/cql2-text\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang/cql2-json\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction/asc\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction/desc\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy/field\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy/direction\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/bbox\n        type:\n        - 'null'\n        - name: _:9bd9a3d2-fdc3-4a3b-bd9c-677af132cdce\n          items: double\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/datetime\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/datetime-interval\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/intersects\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/collections\n        type:\n        - 'null'\n        - name: _:fc084504-ff41-4e65-b123-92844784d813\n          items: string\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/ids\n        type:\n        - 'null'\n        - name: _:4c3ed8a1-960f-4f14-87d3-b8877d9d2712\n          items: string\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/limit\n        type:\n        - 'null'\n        - int\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/max-items\n        type:\n        - 'null'\n        - int\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/fields\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter\n        type:\n        - 'null'\n        - Any\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter-lang\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter-crs\n        type:\n        - 'null'\n        - name: _:53e26aee-e233-482e-a1a8-d962f429dadc\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/sortby\n        type:\n        - 'null'\n        - name: _:42f5f7d1-c15b-4351-828f-f46cb418aeba\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI/api_endpoint\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI/search_request\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\n      type: record\n  cwlVersion: v1.2\n  steps:\n  - id: discovery\n    label: STAC API discovery\n    doc: Discover STAC items from a STAC API endpoint based on a search request\n    in:\n    - id: api_endpoint\n      source: stac_api_endpoint\n    - id: search_request\n      source: search_request\n    out:\n    - search_output\n    run: '#stac-client'\n  - id: convert_search\n    label: Convert Search\n    doc: Convert Search results to get the item self hrefs and the area of \n      interest\n    in:\n    - id: search_results\n      source: discovery/search_output\n    - id: search_request\n      source: search_request\n    out:\n    - items\n    - aoi\n    run: '#convert-search'\n  - id: water_bodies\n    label: Water bodies detection\n    doc: Water bodies detection based on NDWI and otsu threshold applied to each\n      STAC item (sub-workflow)\n    in:\n    - id: item\n      source: convert_search/items\n    - id: aoi\n      source: convert_search/aoi\n    - id: bands\n      source: bands\n    out:\n    - detected_water_body\n    run: '#detect_water_body'\n    scatter: water_bodies/item\n    scatterMethod: dotproduct\n  - id: stac\n    label: Create a STAC catalog with COG outputs\n    doc: Create a STAC catalog with the detected water bodies COG outputs\n    in:\n    - id: item\n      source: convert_search/items\n    - id: rasters\n      source: water_bodies/detected_water_body\n    out:\n    - temp_stac_catalog\n    run: '#stac'\n  - id: stac_zarr\n    label: Create a STAC Catalog for the Zarr store\n    doc: Create a STAC Catalog for the Zarr store from the STAC catalog with COG\n      outputs\n    in:\n    - id: stac_catalog\n      source: stac/temp_stac_catalog\n    out:\n    - zarr_stac_catalog\n    run: '#stac-zarr'\n  $namespaces: *id001\n- id: otsu\n  class: CommandLineTool\n  inputs:\n  - id: raster\n    type: File\n    inputBinding:\n      position: 1\n  outputs:\n  - id: binary_mask_item\n    type: File\n    outputBinding:\n      glob: '*.tif'\n  requirements:\n  - class: InlineJavascriptRequirement\n  - class: EnvVarRequirement\n    envDef:\n    - envName: PATH\n      envValue: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n    - envName: PYTHONPATH\n      envValue: /app\n  - class: ResourceRequirement\n    coresMax: 1\n    ramMax: 512\n  hints:\n  - class: DockerRequirement\n    dockerPull: \n      ghcr.io/eoap/mastering-app-package/otsu@sha256:45866d928037c38c1c0d90678bfeda885991e85dbc6edb2ecaba5873bf4a8d83\n  cwlVersion: v1.2\n  baseCommand:\n  - python\n  - -m\n  - app\n  arguments: []\n  $namespaces: *id001\n- id: stac-client\n  class: CommandLineTool\n  label: STAC Client Tool\n  doc: |\n    This tool uses the STAC Client to search for STAC items\n  inputs:\n  - id: api_endpoint\n    label: STAC API endpoint\n    doc: STAC API endpoint for Landsat-9 data\n    type: |-\n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\n  - id: search_request\n    label: STAC API settings\n    doc: STAC API settings for Landsat-9 data\n    type: |-\n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\n  outputs:\n  - id: search_output\n    type: File\n    outputBinding:\n      glob: discovery-output.json\n  requirements:\n  - class: InlineJavascriptRequirement\n  - class: NetworkAccess\n    networkAccess: true\n  - class: SchemaDefRequirement\n    types:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Date\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Date/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Duration\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Duration/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Email\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Email/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Hostname\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Hostname/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNEmail\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNEmail/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNHostname\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNHostname/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv4\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv4/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv6\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv6/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRI\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRI/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRIReference\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRIReference/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#JsonPointer\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#JsonPointer/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Password\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Password/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#RelativeJsonPointer\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#RelativeJsonPointer/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#UUID\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#UUID/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URIReference\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URIReference/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URITemplate\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URITemplate/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Time\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Time/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType/Point\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/coordinates\n        type:\n          name: _:ffcf301a-bdfd-45a9-9ece-891f1c687c29\n          items: double\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/bbox\n        type:\n          name: _:2894daa9-fc89-47ac-94f3-ebc9914f4b24\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType/LineString\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/coordinates\n        type:\n          name: _:7856a1f1-c4fb-45c7-94f3-352a1392e584\n          items: double\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/bbox\n        type:\n          name: _:bb4fd395-0711-485b-8e33-aa0cb1974810\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType/Polygon\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/coordinates\n        type:\n          name: _:e587f1fb-333c-4de9-b7a3-443cd2312d27\n          items:\n            name: _:052daf53-5504-44f2-b7c9-ffa75321c096\n            items: double\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/bbox\n        type:\n          name: _:25e494bf-9bff-4463-9e2e-64511284a53f\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType/MultiPoint\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/coordinates\n        type:\n          name: _:3fffdc34-322c-4d79-b3fd-e523e789cb7d\n          items:\n            name: _:48218983-29d1-4b26-8a5c-f60fb520fd8d\n            items: double\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/bbox\n        type:\n          name: _:55f0036b-6bb4-40dd-8dca-364e2c1feffe\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType/MultiLineString\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/coordinates\n        type:\n          name: _:1e7a7807-2117-437d-839b-220a395a586c\n          items:\n            name: _:3c296134-70b3-4ec9-b2de-8482ed308076\n            items:\n              name: _:bb16177a-8a95-4b05-9476-65bfa458e9e5\n              items: double\n              type: array\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/bbox\n        type:\n          name: _:c6fb5a99-89ec-4192-8bc4-57963c896bda\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType/MultiPolygon\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/coordinates\n        type:\n          name: _:6681299a-c5ef-45f0-946b-f95614c80b1b\n          items:\n            name: _:1fe1a835-daeb-48a0-b295-8288635009bf\n            items:\n              name: _:7e2fbff7-825e-4715-bfae-6098adcbea25\n              items:\n                name: _:a4c1a313-9b77-4d50-879d-7ba193ff05e5\n                items: double\n                type: array\n              type: array\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/bbox\n        type:\n          name: _:eb571325-6c8d-4faa-a9e3-c680aab55b95\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType/Feature\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/id\n        doc: \"Identifier\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/geometry\n        type:\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/bbox\n        type:\n          name: _:3a06b500-6a6a-4734-95e5-7837a4597931\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType/GeometryCollection\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/geometries\n        type:\n          name: _:7e535eb9-d409-4840-819f-ac35f7ae6e8a\n          items:\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/bbox\n        type:\n          name: _:66423936-4d03-46e2-99dd-f50bc82b947e\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/href\n        doc: \"i.e. http://data.example.com/buildings/123\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/rel\n        doc: \"i.e. alternate\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/type\n        doc: \"i.e. application/geo+json\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/hreflang\n        doc: \"i.e. en\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/title\n        doc: \"i.e. Trierer Strasse 70, 53115 Bonn\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/length\n        type: int\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType/FeatureCollection\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/features\n        type:\n          name: _:86efa16e-941a-46db-ab4a-2d905c8c4949\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/links\n        type:\n          name: _:79ce44d7-9d37-43a0-b7a7-bbe408305fe1\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/timeStamp\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/numberMatched\n        type: int\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/numberReturned\n        type: int\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair/key\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint/url\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint/headers\n        type:\n        - 'null'\n        - name: _:2f7bdb57-770b-418c-ab98-a1fb42923d0f\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval/start\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval/end\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields/include\n        type:\n        - 'null'\n        - name: _:6701f600-cc40-4fe9-bfe8-7c00a47e2bf2\n          items: string\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields/exclude\n        type:\n        - 'null'\n        - name: _:23691f6a-8add-406a-b6b2-a396bd58457d\n          items: string\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang/cql2-text\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang/cql2-json\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction/asc\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction/desc\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy/field\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy/direction\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/bbox\n        type:\n        - 'null'\n        - name: _:768a1d59-85d8-4a77-9346-940abeb0fd42\n          items: double\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/datetime\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/datetime-interval\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/intersects\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/collections\n        type:\n        - 'null'\n        - name: _:ed1979ef-63c7-4183-a74e-32456c0b2ec6\n          items: string\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/ids\n        type:\n        - 'null'\n        - name: _:520624fd-84d7-4014-aaf8-695c8a738d19\n          items: string\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/limit\n        type:\n        - 'null'\n        - int\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/max-items\n        type:\n        - 'null'\n        - int\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/fields\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter\n        type:\n        - 'null'\n        - Any\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter-lang\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter-crs\n        type:\n        - 'null'\n        - name: _:03cdc224-3b36-49ab-ba54-c587e4ba8be2\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/sortby\n        type:\n        - 'null'\n        - name: _:cdd97e7a-bd0c-4d4e-a452-5e9342972ff3\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI/api_endpoint\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI/search_request\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\n      type: record\n  hints:\n  - class: DockerRequirement\n    dockerPull: \n      ghcr.io/eoap/schemas/stac-api-client@sha256:a7e346f704836d07f5dabc6b29ee3359e7253f4a294d74f3899973b8920da6f7\n  cwlVersion: v1.2\n  baseCommand:\n  - stac-client\n  arguments:\n  - search\n  - $(inputs.api_endpoint.url.value)\n  - ${ const args = []; const collections = inputs.search_request.collections; \n    args.push('--collections', collections.join(\",\")); return args; }\n  - ${ const args = []; const bbox = inputs.search_request?.bbox; if \n    (Array.isArray(bbox) &amp;&amp; bbox.length &gt;= 4) { args.push('--bbox', \n    ...bbox.map(String)); } return args; }\n  - ${ const args = []; const limit = inputs.search_request?.limit; \n    args.push(\"--limit\", (limit ?? 10).toString()); return args; }\n  - ${ const maxItems = inputs.search_request?.['max-items']; return \n    ['--max-items', (maxItems ?? 20).toString()]; }\n  - ${ const args = []; const filter = inputs.search_request?.filter; const \n    filterLang = inputs.search_request?.['filter-lang']; if (filterLang) { \n    args.push('--filter-lang', filterLang); } if (filter) { \n    args.push('--filter', JSON.stringify(filter)); } return args; }\n  - ${ const datetime = inputs.search_request?.datetime; const datetimeInterval \n    = inputs.search_request?.datetime_interval; if (datetime) { return \n    ['--datetime', datetime]; } else if (datetimeInterval) { const start = \n    datetimeInterval.start?.value || '..'; const end = \n    datetimeInterval.end?.value || '..'; return ['--datetime', \n    `${start}/${end}`]; } return []; }\n  - ${ const ids = inputs.search_request?.ids; const args = []; if \n    (Array.isArray(ids) &amp;&amp; ids.length &gt; 0) { args.push('--ids', \n    ...ids.map(String)); } return args; }\n  - ${ const intersects = inputs.search_request?.intersects; if (intersects) { \n    return ['--intersects', JSON.stringify(intersects)]; } return []; }\n  - --save\n  - discovery-output.json\n- id: stac\n  class: CommandLineTool\n  inputs:\n  - id: item\n    type:\n      name: _:7a9cacf0-3fd8-4552-9f4f-8cf6943176cc\n      items: string\n      type: array\n      inputBinding:\n        prefix: --input-item\n  - id: rasters\n    type:\n      name: _:6af3cdba-0aa8-49a1-abec-14bdab0cd222\n      items: File\n      type: array\n      inputBinding:\n        prefix: --water-body\n  outputs:\n  - id: temp_stac_catalog\n    label: temporary STAC catalog with COG outputs\n    type: Directory\n    outputBinding:\n      glob: .\n  requirements:\n  - class: InlineJavascriptRequirement\n  - class: EnvVarRequirement\n    envDef:\n    - envName: PATH\n      envValue: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n    - envName: PYTHONPATH\n      envValue: /app\n  - class: ResourceRequirement\n    coresMax: 1\n    ramMax: 512\n  hints:\n  - class: DockerRequirement\n    dockerPull: \n      ghcr.io/eoap/mastering-app-package/stac@sha256:cb54ab738a7d6544f2037368604c1c40e3f5af3eac1250ed14d365e5acb0c6b5\n  cwlVersion: v1.2\n  baseCommand:\n  - python\n  - -m\n  - app\n  arguments: []\n  $namespaces: *id001\n- id: detect_water_body\n  class: Workflow\n  label: Water body detection based on NDWI and otsu threshold\n  doc: Water body detection based on NDWI and otsu threshold\n  inputs:\n  - id: aoi\n    doc: area of interest as a bounding box\n    type: string\n  - id: epsg\n    doc: EPSG code\n    default: EPSG:4326\n    type: string\n  - id: bands\n    doc: bands used for the NDWI\n    type:\n      name: _:af637533-1416-44c8-9ac1-b48b73e446ef\n      items: string\n      type: array\n  - id: item\n    doc: STAC item\n    type: string\n  outputs:\n  - id: detected_water_body\n    outputSource:\n    - otsu/binary_mask_item\n    type: File\n  requirements:\n  - class: ScatterFeatureRequirement\n  cwlVersion: v1.2\n  steps:\n  - id: crop\n    in:\n    - id: item\n      source: item\n    - id: aoi\n      source: aoi\n    - id: epsg\n      source: epsg\n    - id: band\n      source: bands\n    out:\n    - cropped\n    run: '#crop'\n    scatter: crop/band\n    scatterMethod: dotproduct\n  - id: normalized_difference\n    in:\n    - id: rasters\n      source: crop/cropped\n    out:\n    - ndwi\n    run: '#norm_diff'\n  - id: otsu\n    in:\n    - id: raster\n      source: normalized_difference/ndwi\n    out:\n    - binary_mask_item\n    run: '#otsu'\n  $namespaces: *id001\n- id: norm_diff\n  class: CommandLineTool\n  inputs:\n  - id: rasters\n    type:\n      name: _:2bdd4b9d-5269-48d4-b287-8f638462c6b7\n      items: File\n      type: array\n    inputBinding:\n      position: 1\n  outputs:\n  - id: ndwi\n    type: File\n    outputBinding:\n      glob: '*.tif'\n  requirements:\n  - class: InlineJavascriptRequirement\n  - class: EnvVarRequirement\n    envDef:\n    - envName: PATH\n      envValue: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n    - envName: PYTHONPATH\n      envValue: /app\n  - class: ResourceRequirement\n    coresMax: 1\n    ramMax: 512\n  hints:\n  - class: DockerRequirement\n    dockerPull: \n      ghcr.io/eoap/mastering-app-package/norm_diff@sha256:9332428544aec5d694c4834fcd286d60c5bd973aa96313998f5f5a8dd181ed56\n  cwlVersion: v1.2\n  baseCommand:\n  - python\n  - -m\n  - app\n  arguments: []\n  $namespaces: *id001\n- id: crop\n  class: CommandLineTool\n  inputs:\n  - id: item\n    type: string\n    inputBinding:\n      prefix: --input-item\n  - id: aoi\n    type: string\n    inputBinding:\n      prefix: --aoi\n  - id: epsg\n    type: string\n    inputBinding:\n      prefix: --epsg\n  - id: band\n    type: string\n    inputBinding:\n      prefix: --band\n  outputs:\n  - id: cropped\n    type: File\n    outputBinding:\n      glob: '*.tif'\n  requirements:\n  - class: InlineJavascriptRequirement\n  - class: EnvVarRequirement\n    envDef:\n    - envName: PATH\n      envValue: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n    - envName: PYTHONPATH\n      envValue: /app\n  - class: ResourceRequirement\n    coresMax: 1\n    ramMax: 512\n  hints:\n  - class: DockerRequirement\n    dockerPull: \n      ghcr.io/eoap/mastering-app-package/crop@sha256:25985f43b299e12b8c476746c4b5edf328f4d0b0fea9d017c3dafd2f4f5116ba\n  cwlVersion: v1.2\n  baseCommand:\n  - python\n  - -m\n  - app\n  arguments: []\n  $namespaces: *id001\n- id: convert-search\n  class: CommandLineTool\n  label: Gets the item self hrefs\n  doc: Gets the item self hrefs from a STAC search result\n  inputs:\n  - id: search_request\n    label: Search Request\n    doc: Search request from the discovery step\n    type: \n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\n  - id: search_results\n    label: Search Results\n    doc: Search results from the discovery step\n    type: File\n  outputs:\n  - id: items\n    type: Any\n    outputBinding:\n      loadContents: true\n      glob: items.json\n      outputEval: ${ return JSON.parse(self[0].contents); }\n  - id: aoi\n    type: string\n    outputBinding:\n      loadContents: true\n      glob: aoi.txt\n      outputEval: ${ return self[0].contents.trim(); }\n  requirements:\n  - class: InlineJavascriptRequirement\n  - class: SchemaDefRequirement\n    types:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Date\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Date/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Duration\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Duration/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Email\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Email/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Hostname\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Hostname/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNEmail\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNEmail/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNHostname\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNHostname/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv4\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv4/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv6\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv6/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRI\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRI/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRIReference\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRIReference/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#JsonPointer\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#JsonPointer/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Password\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Password/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#RelativeJsonPointer\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#RelativeJsonPointer/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#UUID\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#UUID/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URIReference\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URIReference/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URITemplate\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URITemplate/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Time\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Time/value\n        </pre> <pre>type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType/Point\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/coordinates\n        type:\n          name: _:179e9d0e-decb-4c50-90e3-0ee9b8def22c\n          items: double\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/bbox\n        type:\n          name: _:71756cc4-7db0-487b-abfe-a6c44a6435bf\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType/LineString\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/coordinates\n        type:\n          name: _:0d6b107b-5c2b-4d10-be53-d090a32315c8\n          items: double\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/bbox\n        type:\n          name: _:29cb1814-baee-45ef-8e6d-3755f44e4e8a\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType/Polygon\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n      fields:\n</pre> <pre>      </pre> <pre>-</pre> <pre> </pre> <pre>name</pre> <pre>:</pre> <pre> </pre> <pre>\n</pre> <pre>          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/coordinates\n        type:\n          name: _:645e4c7d-0411-49dc-9e50-d6491e9fac8e\n          items:\n            name: _:bf742d25-3ecd-4c42-8157-3a0ea3597a22\n            items: double\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/bbox\n        type:\n          name: _:5e23a304-1faa-4b56-b9f6-e5330a338576\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType/MultiPoint\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/coordinates\n        type:\n          name: _:a2688e1a-a234-42e6-b6ec-9a9bce39aa81\n          items:\n            name: _:e2712abb-bbed-4dbb-8665-e97640357951\n            items: double\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/bbox\n        type:\n          name: _:edcfa610-5388-48c7-9dab-ea3e1370e39e\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType/MultiLineString\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/coordinates\n        type:\n          name: _:31c75abe-0581-49f8-801e-4982e0a6c82c\n          items:\n            name: _:d99b06e1-0860-41b9-9eba-afa70c97a699\n            items:\n              name: _:ef3a735f-5956-4f81-b056-587e2a561099\n              items: double\n              type: array\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/bbox\n        type:\n          name: _:1a502b75-1e2d-431d-859d-6dcdd97f3fc4\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType/MultiPolygon\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/coordinates\n        type:\n          name: _:1f0c97fe-840f-44c0-9e51-5d151b509f48\n          items:\n            name: _:744819b6-6164-401a-8163-f19594ccff6d\n            items:\n              name: _:0633c8a5-7d1b-46f5-a3e3-8979bd752459\n              items:\n                name: _:29303098-3c43-4fa5-87de-80bca808b892\n                items: double\n                type: array\n              type: array\n            type: array\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/bbox\n        type:\n          name: _:657534ab-d704-4e77-976f-b3ecf7bca554\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType/Feature\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/id\n        doc: \"Identifier\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/geometry\n        type:\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/bbox\n        type:\n          name: _:ed2386fc-d35c-4e55-a341-d977a4326633\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType/GeometryCollection\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/geometries\n        type:\n          name: _:ff744278-0efe-4fd7-a0b4-78857c8c2a11\n          items:\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n          - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/bbox\n        type:\n          name: _:496831bd-351d-42e5-a0f8-00bc8cbcbdd5\n          items: double\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/href\n        doc: \"i.e. http://data.example.com/buildings/123\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/rel\n        doc: \"i.e. alternate\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/type\n        doc: \"i.e. application/geo+json\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/hreflang\n        doc: \"i.e. en\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/title\n        doc: \"i.e. Trierer Strasse 70, 53115 Bonn\"\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/length\n        type: int\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType/FeatureCollection\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/type\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/features\n        type:\n          name: _:fda353e3-c12e-42c1-9ae9-092835ef07b9\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/links\n        type:\n          name: _:4adf378c-5447-426e-b7bb-6a0b998619c8\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/timeStamp\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/numberMatched\n        type: int\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/numberReturned\n        type: int\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair/key\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair/value\n        type: string\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint/url\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint/headers\n        type:\n        - 'null'\n        - name: _:0723a754-dfd6-44a2-a808-82e4bab1eb11\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval/start\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval/end\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields/include\n        type:\n        - 'null'\n        - name: _:fcebe76f-ee86-4bb5-ba00-3a1042e63c8c\n          items: string\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields/exclude\n        type:\n        - 'null'\n        - name: _:05559eee-b434-456f-9ca1-aea29078b9be\n          items: string\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang/cql2-text\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang/cql2-json\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction\n      symbols:\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction/asc\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction/desc\n      type: enum\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy/field\n        type: string\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy/direction\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/bbox\n        type:\n        - 'null'\n        - name: _:9bd9a3d2-fdc3-4a3b-bd9c-677af132cdce\n          items: double\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/datetime\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/datetime-interval\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/intersects\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/collections\n        type:\n        - 'null'\n        - name: _:fc084504-ff41-4e65-b123-92844784d813\n          items: string\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/ids\n        type:\n        - 'null'\n        - name: _:4c3ed8a1-960f-4f14-87d3-b8877d9d2712\n          items: string\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/limit\n        type:\n        - 'null'\n        - int\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/max-items\n        type:\n        - 'null'\n        - int\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/fields\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter\n        type:\n        - 'null'\n        - Any\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter-lang\n        type:\n        - 'null'\n        - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter-crs\n        type:\n        - 'null'\n        - name: _:53e26aee-e233-482e-a1a8-d962f429dadc\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n          type: array\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/sortby\n        type:\n        - 'null'\n        - name: _:42f5f7d1-c15b-4351-828f-f46cb418aeba\n          items: \n            https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy\n          type: array\n      type: record\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI\n      fields:\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI/api_endpoint\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\n      - name: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI/search_request\n        type: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\n      type: record\n  - class: InitialWorkDirRequirement\n    listing:\n    - entryname: run.sh\n      entry: |-\n        #!/usr/bin/env sh\n        set -x\n        set -euo pipefail\n\n        yq '[.features[].links[] | select(.rel==\"self\") | .href]' \"$(inputs.search_results.path)\" &gt; items.json\n\n        echo \"$(inputs.search_request)\" | yq '.bbox | @csv' - &gt; aoi.txt\n  hints:\n  - class: DockerRequirement\n    dockerPull: \n      ghcr.io/eoap/zarr-cloud-native-format/yq@sha256:401655f3f4041bf3d03b05f3b24ad4b9d18cfcf908c3b44f5901383621d0688a\n  cwlVersion: v1.2\n  baseCommand:\n  - /bin/sh\n  - run.sh\n  arguments: []\n  $namespaces: *id001\n</pre> In\u00a0[3]: Copied! <pre>document_dict = dump_cwl(process=cwl_document)\n\nimport yaml\nyaml.dump(\n    document_dict,\n    stream=sys.stdout,\n    sort_keys=False\n)\n</pre> document_dict = dump_cwl(process=cwl_document)  import yaml yaml.dump(     document_dict,     stream=sys.stdout,     sort_keys=False ) <pre>\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\nCell In[3], line 1\n----&gt; 1 document_dict = dump_cwl(process=cwl_document)\n      3 import yaml\n      4 yaml.dump(\n      5     document_dict,\n      6     stream=sys.stdout,\n      7     sort_keys=False\n      8 )\n\nTypeError: dump_cwl() missing 1 required positional argument: 'stream'</pre> In\u00a0[4]: Copied! <pre>cwl_document = load_cwl_from_location('https://raw.githubusercontent.com/eoap/application-package-patterns/refs/heads/main/templates/stage-in-file.cwl')\n</pre> cwl_document = load_cwl_from_location('https://raw.githubusercontent.com/eoap/application-package-patterns/refs/heads/main/templates/stage-in-file.cwl') <pre>2025-09-24 07:17:32.383 | DEBUG    | cwl_loader:load_cwl_from_location:231 - Loading CWL document from https://raw.githubusercontent.com/eoap/application-package-patterns/refs/heads/main/templates/stage-in-file.cwl...\n</pre> <pre>2025-09-24 07:17:32.465 | DEBUG    | cwl_loader:_load_cwl_from_stream:234 - Reading stream from https://raw.githubusercontent.com/eoap/application-package-patterns/refs/heads/main/templates/stage-in-file.cwl...\n</pre> <pre>2025-09-24 07:17:32.471 | DEBUG    | cwl_loader:load_cwl_from_stream:206 - CWL data of type &lt;class 'ruamel.yaml.comments.CommentedMap'&gt; successfully loaded from stream\n</pre> <pre>2025-09-24 07:17:32.472 | DEBUG    | cwl_loader:load_cwl_from_yaml:133 - Updating the model from version 'v1.0' to version 'v1.2'...\n</pre> <pre>2025-09-24 07:17:32.472 | DEBUG    | cwl_loader:load_cwl_from_yaml:144 - Raw CWL document successfully updated to v1.2!\n</pre> <pre>2025-09-24 07:17:32.473 | DEBUG    | cwl_loader:load_cwl_from_yaml:148 - Parsing the raw CWL document to the CWL Utils DOM...\n</pre> <pre>2025-09-24 07:17:32.629 | DEBUG    | cwl_loader:load_cwl_from_yaml:161 - Raw CWL document successfully parsed to the CWL Utils DOM!\n</pre> <pre>2025-09-24 07:17:32.629 | DEBUG    | cwl_loader:load_cwl_from_yaml:163 - Dereferencing the steps[].run...\n</pre> <pre>2025-09-24 07:17:32.630 | DEBUG    | cwl_loader:load_cwl_from_yaml:170 - steps[].run successfully dereferenced! Dereferencing the FQNs...\n</pre> <pre>2025-09-24 07:17:32.631 | DEBUG    | cwl_loader:load_cwl_from_yaml:174 - CWL document successfully dereferenced! Now verifying steps[].run integrity...\n</pre> <pre>2025-09-24 07:17:32.632 | DEBUG    | cwl_loader:load_cwl_from_yaml:178 - All steps[].run link are resolvable! \n</pre> <pre>2025-09-24 07:17:32.632 | DEBUG    | cwl_loader:load_cwl_from_yaml:181 - Sorting Process instances by dependencies....\n</pre> <pre>2025-09-24 07:17:32.633 | DEBUG    | cwl_loader:load_cwl_from_yaml:183 - Sorting process is over.\n</pre> <pre>2025-09-24 07:17:32.633 | DEBUG    | cwl_loader:_load_cwl_from_stream:243 - Stream from https://raw.githubusercontent.com/eoap/application-package-patterns/refs/heads/main/templates/stage-in-file.cwl successfully load!\n</pre> In\u00a0[5]: Copied! <pre>dump_cwl(process=cwl_document, stream=sys.stderr)\n</pre> dump_cwl(process=cwl_document, stream=sys.stderr) <pre>id: my-asthonishing-stage-in-file\nclass: CommandLineTool\ninputs:\n- id: reference\n  label: Reference URL\n  doc: An URL to stage\n  type: \n    https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n- id: another_input\n  label: Another Input\n  doc: An additional input for demonstration purposes\n  type: string\noutputs:\n- id: staged\n  type: File\n  outputBinding:\n    glob: staged\nrequirements:\n- class: NetworkAccess\n  networkAccess: true\n- class: SchemaDefRequirement\n  types:\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Date\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Date/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Duration\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Duration/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Email\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Email/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Hostname\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Hostname/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNEmail\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNEmail/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNHostname\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNHostname/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv4\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv4/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv6\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv6/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRI\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRI/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRIReference\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRIReference/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#JsonPointer\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#JsonPointer/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Password\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Password/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#RelativeJsonPointer\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#RelativeJsonPointer/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#UUID\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#UUID/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URIReference\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URIReference/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URITemplate\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URITemplate/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Time\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Time/value\n      type: string\n    type: record\n- class: DockerRequirement\n  dockerPull: ghcr.io/eoap/application-package-patterns/vegetation-indexes:0.1.1\n- class: InlineJavascriptRequirement\n- class: InitialWorkDirRequirement\n  listing:\n  - entryname: stage.py\n    entry: |-\n      import sys\n      import requests\n      import planetary_computer\n\n      href = sys.argv[1]\n\n      signed_url = planetary_computer.sign(href)\n      output_path = \"staged\"\n\n      response = requests.get(signed_url, stream=True)\n      response.raise_for_status()  # Raise an error for bad status codes\n\n      with open(output_path, \"wb\") as f:\n          for chunk in response.iter_content(chunk_size=8192):\n              f.write(chunk)\n\n      print(f\"Downloaded to {output_path}\")\n\n      empty_arg = sys.argv[2]\ncwlVersion: v1.2\nbaseCommand:\n- python\n- stage.py\narguments:\n- $( inputs.reference.value )\n- $( inputs.another_input )\n</pre> In\u00a0[6]: Copied! <pre>from cwl_loader import load_cwl_from_yaml\n\ncwl_document = load_cwl_from_yaml(raw_process={\n  \"cwlVersion\": \"v1.2\", \n  \"inputs\": {\n    \"api_endpoint\": {\n      \"doc\": \"STAC API endpoint for Landsat-9 data\", \n      \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\", \n      \"label\": \"STAC API endpoint\"\n    }, \n    \"search_request\": {\n      \"doc\": \"STAC API settings for Landsat-9 data\", \n      \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\", \n      \"label\": \"STAC API settings\"\n    }\n  }, \n  \"requirements\": [\n    {\n      \"class\": \"InlineJavascriptRequirement\"\n    }, \n    {\n      \"class\": \"NetworkAccess\", \n      \"networkAccess\": True\n    }, \n    {\n      \"class\": \"SchemaDefRequirement\", \n      \"types\": [\n        {\n          \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml\"\n        }, \n        {\n          \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml\"\n        }, \n        {\n          \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml\"\n        }, \n        {\n          \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml\"\n        }\n      ]\n    }\n  ], \n  \"doc\": \"This tool uses the STAC Client to search for STAC items\\n\", \n  \"class\": \"CommandLineTool\", \n  \"baseCommand\": [\n    \"stac-client\"\n  ], \n  \"label\": \"STAC Client Tool\", \n  \"arguments\": [\n    \"search\", \n    \"$(inputs.api_endpoint.url.value)\", \n    \"${ const args = []; const collections = inputs.search_request.collections; args.push('--collections', collections.join(\\\",\\\")); return args; }\", \n    \"${ const args = []; const bbox = inputs.search_request?.bbox; if (Array.isArray(bbox) &amp;&amp; bbox.length &gt;= 4) { args.push('--bbox', ...bbox.map(String)); } return args; }\", \n    \"${ const args = []; const limit = inputs.search_request?.limit; args.push(\\\"--limit\\\", (limit ?? 10).toString()); return args; }\", \n    \"${ const maxItems = 5; return ['--max-items', maxItems.toString()]; }\", \n    \"${ const args = []; const filter = inputs.search_request?.filter; const filterLang = inputs.search_request?.['filter-lang']; if (filterLang) { args.push('--filter-lang', filterLang); } if (filter) { args.push('--filter', JSON.stringify(filter)); } return args; }\", \n    \"${ const datetime = inputs.search_request?.datetime; const datetimeInterval = inputs.search_request?.datetime_interval; if (datetime) { return ['--datetime', datetime]; } else if (datetimeInterval) { const start = datetimeInterval.start?.value || '..'; const end = datetimeInterval.end?.value || '..'; return ['--datetime', `${start}/${end}`]; } return []; }\", \n    \"${ const ids = inputs.search_request?.ids; const args = []; if (Array.isArray(ids) &amp;&amp; ids.length &gt; 0) { args.push('--ids', ...ids.map(String)); } return args; }\", \n    \"${ const intersects = inputs.search_request?.intersects; if (intersects) { return ['--intersects', JSON.stringify(intersects)]; } return []; }\", \n    \"--save\", \n    \"discovery-output.json\"\n  ], \n  \"outputs\": {\n    \"search_output\": {\n      \"outputBinding\": {\n        \"glob\": \"discovery-output.json\"\n      }, \n      \"type\": \"File\"\n    }\n  }, \n  \"id\": \"stac-client\", \n  \"hints\": [\n    {\n      \"dockerPull\": \"docker.io/library/stac-client\", \n      \"class\": \"DockerRequirement\"\n    }\n  ]\n})\n\ndump_cwl(process=cwl_document, stream=sys.stderr)\n</pre> from cwl_loader import load_cwl_from_yaml  cwl_document = load_cwl_from_yaml(raw_process={   \"cwlVersion\": \"v1.2\",    \"inputs\": {     \"api_endpoint\": {       \"doc\": \"STAC API endpoint for Landsat-9 data\",        \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\",        \"label\": \"STAC API endpoint\"     },      \"search_request\": {       \"doc\": \"STAC API settings for Landsat-9 data\",        \"type\": \"https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\",        \"label\": \"STAC API settings\"     }   },    \"requirements\": [     {       \"class\": \"InlineJavascriptRequirement\"     },      {       \"class\": \"NetworkAccess\",        \"networkAccess\": True     },      {       \"class\": \"SchemaDefRequirement\",        \"types\": [         {           \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml\"         },          {           \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml\"         },          {           \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml\"         },          {           \"$import\": \"https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml\"         }       ]     }   ],    \"doc\": \"This tool uses the STAC Client to search for STAC items\\n\",    \"class\": \"CommandLineTool\",    \"baseCommand\": [     \"stac-client\"   ],    \"label\": \"STAC Client Tool\",    \"arguments\": [     \"search\",      \"$(inputs.api_endpoint.url.value)\",      \"${ const args = []; const collections = inputs.search_request.collections; args.push('--collections', collections.join(\\\",\\\")); return args; }\",      \"${ const args = []; const bbox = inputs.search_request?.bbox; if (Array.isArray(bbox) &amp;&amp; bbox.length &gt;= 4) { args.push('--bbox', ...bbox.map(String)); } return args; }\",      \"${ const args = []; const limit = inputs.search_request?.limit; args.push(\\\"--limit\\\", (limit ?? 10).toString()); return args; }\",      \"${ const maxItems = 5; return ['--max-items', maxItems.toString()]; }\",      \"${ const args = []; const filter = inputs.search_request?.filter; const filterLang = inputs.search_request?.['filter-lang']; if (filterLang) { args.push('--filter-lang', filterLang); } if (filter) { args.push('--filter', JSON.stringify(filter)); } return args; }\",      \"${ const datetime = inputs.search_request?.datetime; const datetimeInterval = inputs.search_request?.datetime_interval; if (datetime) { return ['--datetime', datetime]; } else if (datetimeInterval) { const start = datetimeInterval.start?.value || '..'; const end = datetimeInterval.end?.value || '..'; return ['--datetime', `${start}/${end}`]; } return []; }\",      \"${ const ids = inputs.search_request?.ids; const args = []; if (Array.isArray(ids) &amp;&amp; ids.length &gt; 0) { args.push('--ids', ...ids.map(String)); } return args; }\",      \"${ const intersects = inputs.search_request?.intersects; if (intersects) { return ['--intersects', JSON.stringify(intersects)]; } return []; }\",      \"--save\",      \"discovery-output.json\"   ],    \"outputs\": {     \"search_output\": {       \"outputBinding\": {         \"glob\": \"discovery-output.json\"       },        \"type\": \"File\"     }   },    \"id\": \"stac-client\",    \"hints\": [     {       \"dockerPull\": \"docker.io/library/stac-client\",        \"class\": \"DockerRequirement\"     }   ] })  dump_cwl(process=cwl_document, stream=sys.stderr) <pre>2025-09-24 07:17:32.665 | DEBUG    | cwl_loader:load_cwl_from_yaml:146 - No needs to update the Raw CWL document since it targets already the v1.2\n</pre> <pre>2025-09-24 07:17:32.666 | DEBUG    | cwl_loader:load_cwl_from_yaml:148 - Parsing the raw CWL document to the CWL Utils DOM...\n</pre> <pre>2025-09-24 07:17:33.134 | DEBUG    | cwl_loader:load_cwl_from_yaml:161 - Raw CWL document successfully parsed to the CWL Utils DOM!\n</pre> <pre>2025-09-24 07:17:33.135 | DEBUG    | cwl_loader:load_cwl_from_yaml:163 - Dereferencing the steps[].run...\n</pre> <pre>2025-09-24 07:17:33.135 | DEBUG    | cwl_loader:load_cwl_from_yaml:170 - steps[].run successfully dereferenced! Dereferencing the FQNs...\n</pre> <pre>2025-09-24 07:17:33.136 | DEBUG    | cwl_loader:load_cwl_from_yaml:174 - CWL document successfully dereferenced! Now verifying steps[].run integrity...\n</pre> <pre>2025-09-24 07:17:33.137 | DEBUG    | cwl_loader:load_cwl_from_yaml:178 - All steps[].run link are resolvable! \n</pre> <pre>2025-09-24 07:17:33.137 | DEBUG    | cwl_loader:load_cwl_from_yaml:181 - Sorting Process instances by dependencies....\n</pre> <pre>2025-09-24 07:17:33.138 | DEBUG    | cwl_loader:load_cwl_from_yaml:183 - Sorting process is over.\n</pre> <pre>id: stac-client\nclass: CommandLineTool\nlabel: STAC Client Tool\ndoc: \"This tool uses the STAC Client to search for STAC items\\n\"\ninputs:\n- id: api_endpoint\n  label: STAC API endpoint\n  doc: STAC API endpoint for Landsat-9 data\n  type: \n    https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\n- id: search_request\n  label: STAC API settings\n  doc: STAC API settings for Landsat-9 data\n  type: \n    https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\noutputs:\n- id: search_output\n  type: File\n  outputBinding:\n    glob: discovery-output.json\nrequirements:\n- class: InlineJavascriptRequirement\n- class: NetworkAccess\n  networkAccess: true\n- class: SchemaDefRequirement\n  types:\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Date\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Date/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Duration\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Duration/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Email\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Email/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Hostname\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Hostname/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNEmail\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNEmail/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNHostname\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IDNHostname/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv4\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv4/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv6\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IPv6/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRI\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRI/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRIReference\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#IRIReference/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#JsonPointer\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#JsonPointer/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Password\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Password/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#RelativeJsonPointer\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#RelativeJsonPointer/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#UUID\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#UUID/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URIReference\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URIReference/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URITemplate\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URITemplate/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Time\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#Time/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType\n    symbols:\n    - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType/Point\n    type: enum\n  - name: https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/type\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PointType\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/coordinates\n      type:\n        name: _:5bc96d56-8824-4840-9909-82f30a6a5d96\n        items: double\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point/bbox\n      type:\n        name: _:9c3414cb-764b-4e0b-8532-557b9cfc5a87\n        items: double\n        type: array\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType\n    symbols:\n    - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType/LineString\n    type: enum\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/type\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineStringType\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/coordinates\n      type:\n        name: _:e3039424-88fe-4d1e-aefa-06ccbffd9427\n        items: double\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString/bbox\n      type:\n        name: _:a6e7709d-8c67-4f0e-b778-34c40578895f\n        items: double\n        type: array\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType\n    symbols:\n    - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType/Polygon\n    type: enum\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/type\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#PolygonType\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/coordinates\n      type:\n        name: _:10366646-c686-40a8-a6c2-6c78254aefd3\n        items:\n          name: _:e7db118f-21c2-4309-91ef-cedc4ce9fc21\n          items: double\n          type: array\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon/bbox\n      type:\n        name: _:b672d1f9-a548-4268-8a86-74b1dd6fd6cf\n        items: double\n        type: array\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType\n    symbols:\n    - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType/MultiPoint\n    type: enum\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/type\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPointType\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/coordinates\n      type:\n        name: _:b5ddd1ba-11bc-4b2d-ad13-a2ad4f22982a\n        items:\n          name: _:bff43a75-4253-428f-93d6-77870f61f2b2\n          items: double\n          type: array\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint/bbox\n      type:\n        name: _:ccb69cc4-9f00-40be-aa46-e85e376f5e86\n        items: double\n        type: array\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType\n    symbols:\n    - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType/MultiLineString\n    type: enum\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/type\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineStringType\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/coordinates\n      type:\n        name: _:b433b138-ddd0-4acf-97a4-3ca64c687664\n        items:\n          name: _:b85960ee-d975-48f6-a7bc-b8186c1f71dd\n          items:\n            name: _:b3ef73b2-014c-4fc3-a7f5-47d56ed5e6d8\n            items: double\n            type: array\n          type: array\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString/bbox\n      type:\n        name: _:eb0c1093-f7a6-44c8-9073-211a3556b308\n        items: double\n        type: array\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType\n    symbols:\n    - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType/MultiPolygon\n    type: enum\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/type\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygonType\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/coordinates\n      type:\n        name: _:bceacb07-947c-4442-b0c8-e9e17b615cde\n        items:\n          name: _:62d9b316-5a10-4daa-9671-dc4856ae7312\n          items:\n            name: _:049224b4-727e-4cbc-9764-5cea8251e6f7\n            items:\n              name: _:2f7d0803-50d5-44f6-afb9-b915ebbb994c\n              items: double\n              type: array\n            type: array\n          type: array\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon/bbox\n      type:\n        name: _:feda7c65-85f3-4761-98f5-20cf3f3bb861\n        items: double\n        type: array\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType\n    symbols:\n    - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType/Feature\n    type: enum\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/type\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureType\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/id\n      doc: \"Identifier\"\n      type: string\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/geometry\n      type:\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature/bbox\n      type:\n        name: _:bbfc9cfc-cb19-4ff0-baf4-474de5559da5\n        items: double\n        type: array\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType\n    symbols:\n    - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType/GeometryCollection\n    type: enum\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/type\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollectionType\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/geometries\n      type:\n        name: _:dfa4312a-216e-47a1-bf97-e11365fb76d4\n        items:\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n        - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection/bbox\n      type:\n        name: _:01d33b66-194e-4382-b013-3ff99538c199\n        items: double\n        type: array\n    type: record\n  - name: https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/href\n      doc: \"i.e. http://data.example.com/buildings/123\"\n      type: string\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/rel\n      doc: \"i.e. alternate\"\n      type: string\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/type\n      doc: \"i.e. application/geo+json\"\n      type: string\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/hreflang\n      doc: \"i.e. en\"\n      type: string\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/title\n      doc: \"i.e. Trierer Strasse 70, 53115 Bonn\"\n      type: string\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link/length\n      type: int\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType\n    symbols:\n    - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType/FeatureCollection\n    type: enum\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/type\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollectionType\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/features\n      type:\n        name: _:e649c3ce-6037-48dd-87d2-aa00ee41e6f5\n        items: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Feature\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/links\n      type:\n        name: _:867b8968-9929-4650-abc9-29013f44c80e\n        items: \n          https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Link\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/timeStamp\n      type: string\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/numberMatched\n      type: int\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#FeatureCollection/numberReturned\n      type: int\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair/key\n      type: string\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair/value\n      type: string\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint/url\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint/headers\n      type:\n      - 'null'\n      - name: _:f7c6d3eb-312c-409f-82a5-5cd27fa98d58\n        items: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#KeyValuePair\n        type: array\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval/start\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval/end\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields/include\n      type:\n      - 'null'\n      - name: _:07024d7e-37c2-4620-a076-2466ce95277d\n        items: string\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields/exclude\n      type:\n      - 'null'\n      - name: _:1cc98d17-4df1-4be9-8d7b-12daffe1dafd\n        items: string\n        type: array\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang\n    symbols:\n    - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang/cql2-text\n    - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang/cql2-json\n    type: enum\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction\n    symbols:\n    - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction/asc\n    - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction/desc\n    type: enum\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy/field\n      type: string\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy/direction\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Direction\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/bbox\n      type:\n      - 'null'\n      - name: _:bdbd98bc-6713-41e6-8f25-952f465b23d9\n        items: double\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/datetime\n      type:\n      - 'null'\n      - https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#DateTime\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/datetime-interval\n      type:\n      - 'null'\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#DatetimeInterval\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/intersects\n      type:\n      - 'null'\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Point\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPoint\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#LineString\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiLineString\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#Polygon\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#MultiPolygon\n      - https://raw.githubusercontent.com/eoap/schemas/main/geojson.yaml#GeometryCollection\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/collections\n      type:\n      - 'null'\n      - name: _:4ad8825d-9ab2-4cab-afb1-290ac511cab5\n        items: string\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/ids\n      type:\n      - 'null'\n      - name: _:650c0ad4-cd00-4e78-926b-9e58fca441ef\n        items: string\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/limit\n      type:\n      - 'null'\n      - int\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/max-items\n      type:\n      - 'null'\n      - int\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/fields\n      type:\n      - 'null'\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#Fields\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter\n      type:\n      - 'null'\n      - Any\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter-lang\n      type:\n      - 'null'\n      - https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#FilterLang\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/filter-crs\n      type:\n      - 'null'\n      - name: _:6a9d3418-5c3f-4fc1-bfc7-74d1f5f8dc53\n        items: \n          https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI\n        type: array\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings/sortby\n      type:\n      - 'null'\n      - name: _:aa580c41-9bba-4eb9-b94f-6be9b279eb86\n        items: \n          https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#SortBy\n        type: array\n    type: record\n  - name: \n      https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI\n    fields:\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI/api_endpoint\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/api-endpoint.yaml#APIEndpoint\n    - name: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACAPI/search_request\n      type: \n        https://raw.githubusercontent.com/eoap/schemas/main/experimental/discovery.yaml#STACSearchSettings\n    type: record\nhints:\n- class: DockerRequirement\n  dockerPull: docker.io/library/stac-client\ncwlVersion: v1.2\nbaseCommand:\n- stac-client\narguments:\n- search\n- $(inputs.api_endpoint.url.value)\n- ${ const args = []; const collections = inputs.search_request.collections; \n  args.push('--collections', collections.join(\",\")); return args; }\n- ${ const args = []; const bbox = inputs.search_request?.bbox; if \n  (Array.isArray(bbox) &amp;&amp; bbox.length &gt;= 4) { args.push('--bbox', \n  ...bbox.map(String)); } return args; }\n- ${ const args = []; const limit = inputs.search_request?.limit; \n  args.push(\"--limit\", (limit ?? 10).toString()); return args; }\n- ${ const maxItems = 5; return ['--max-items', maxItems.toString()]; }\n- ${ const args = []; const filter = inputs.search_request?.filter; const \n  filterLang = inputs.search_request?.['filter-lang']; if (filterLang) { \n  args.push('--filter-lang', filterLang); } if (filter) { args.push('--filter', \n  JSON.stringify(filter)); } return args; }\n- ${ const datetime = inputs.search_request?.datetime; const datetimeInterval = \n  inputs.search_request?.datetime_interval; if (datetime) { return \n  ['--datetime', datetime]; } else if (datetimeInterval) { const start = \n  datetimeInterval.start?.value || '..'; const end = datetimeInterval.end?.value\n  || '..'; return ['--datetime', `${start}/${end}`]; } return []; }\n- ${ const ids = inputs.search_request?.ids; const args = []; if \n  (Array.isArray(ids) &amp;&amp; ids.length &gt; 0) { args.push('--ids', \n  ...ids.map(String)); } return args; }\n- ${ const intersects = inputs.search_request?.intersects; if (intersects) { \n  return ['--intersects', JSON.stringify(intersects)]; } return []; }\n- --save\n- discovery-output.json\n</pre> In\u00a0[7]: Copied! <pre>cwl_document = load_cwl_from_location('https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl')\ndump_cwl(process=cwl_document, stream=sys.stderr)\n</pre> cwl_document = load_cwl_from_location('https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl') dump_cwl(process=cwl_document, stream=sys.stderr) <pre>2025-09-24 07:17:33.208 | DEBUG    | cwl_loader:load_cwl_from_location:231 - Loading CWL document from https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl...\n</pre> <pre>2025-09-24 07:17:33.304 | DEBUG    | cwl_loader:_load_cwl_from_stream:234 - Reading stream from https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl...\n</pre> <pre>2025-09-24 07:17:33.326 | DEBUG    | cwl_loader:load_cwl_from_stream:206 - CWL data of type &lt;class 'ruamel.yaml.comments.CommentedMap'&gt; successfully loaded from stream\n</pre> <pre>2025-09-24 07:17:33.327 | DEBUG    | cwl_loader:load_cwl_from_yaml:146 - No needs to update the Raw CWL document since it targets already the v1.2\n</pre> <pre>2025-09-24 07:17:33.327 | DEBUG    | cwl_loader:load_cwl_from_yaml:148 - Parsing the raw CWL document to the CWL Utils DOM...\n</pre> <pre>2025-09-24 07:17:33.457 | DEBUG    | cwl_loader:load_cwl_from_yaml:161 - Raw CWL document successfully parsed to the CWL Utils DOM!\n</pre> <pre>2025-09-24 07:17:33.458 | DEBUG    | cwl_loader:load_cwl_from_yaml:163 - Dereferencing the steps[].run...\n</pre> <pre>2025-09-24 07:17:33.458 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl#stac must be externally imported...\n</pre> <pre>2025-09-24 07:17:33.459 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl - uri: https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl\n</pre> <pre>2025-09-24 07:17:33.460 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl#rio_stack must be externally imported...\n</pre> <pre>2025-09-24 07:17:33.460 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl - uri: https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl\n</pre> <pre>2025-09-24 07:17:33.461 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl#rio_warp_stack must be externally imported...\n</pre> <pre>2025-09-24 07:17:33.462 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl - uri: https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl\n</pre> <pre>2025-09-24 07:17:33.463 | DEBUG    | cwl_loader:_on_process:81 - Checking if https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl#rio_color must be externally imported...\n</pre> <pre>2025-09-24 07:17:33.463 | DEBUG    | cwl_loader:_on_process:85 - run_url: https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl - uri: https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl\n</pre> <pre>2025-09-24 07:17:33.464 | DEBUG    | cwl_loader:load_cwl_from_yaml:170 - steps[].run successfully dereferenced! Dereferencing the FQNs...\n</pre> <pre>2025-09-24 07:17:33.465 | DEBUG    | cwl_loader:load_cwl_from_yaml:174 - CWL document successfully dereferenced! Now verifying steps[].run integrity...\n</pre> <pre>2025-09-24 07:17:33.465 | DEBUG    | cwl_loader:load_cwl_from_yaml:178 - All steps[].run link are resolvable! \n</pre> <pre>2025-09-24 07:17:33.466 | DEBUG    | cwl_loader:load_cwl_from_yaml:181 - Sorting Process instances by dependencies....\n</pre> <pre>2025-09-24 07:17:33.467 | DEBUG    | cwl_loader:load_cwl_from_yaml:183 - Sorting process is over.\n</pre> <pre>2025-09-24 07:17:33.468 | DEBUG    | cwl_loader:_load_cwl_from_stream:243 - Stream from https://raw.githubusercontent.com/eoap/how-to/refs/heads/main/cwl-workflows/conditional-workflows.cwl successfully load!\n</pre> <pre>cwlVersion: v1.2\n$graph:\n- id: stac\n  class: CommandLineTool\n  inputs:\n  - id: stac_item\n    type: string\n  - id: common_band_name\n    type: string\n  outputs:\n  - id: hrefs\n    type: string\n    outputBinding:\n      loadContents: true\n      glob: message\n      outputEval: |\n        ${\n          const assets = JSON.parse(self[0].contents).assets;\n          const bandKey = Object.keys(assets).find(key =&gt;\n            assets[key]['eo:bands'] &amp;&amp;\n            assets[key]['eo:bands'].length === 1 &amp;&amp;\n            assets[key]['eo:bands'].some(band =&gt; band.common_name === inputs.common_band_name)\n          );\n          if (!bandKey) {\n            throw new Error(`No valid asset found for band: ${inputs.common_band_name}`);\n          }\n          return assets[bandKey].href;\n        }\n  requirements:\n  - class: DockerRequirement\n    dockerPull: docker.io/curlimages/curl:latest\n  cwlVersion: v1.2\n  baseCommand: curl\n  arguments:\n  - $( inputs.stac_item )\n  stdout: message\n- id: rio_color\n  class: CommandLineTool\n  inputs:\n  - id: stacked\n    type: File\n  outputs:\n  - id: rgb\n    type: File\n    outputBinding:\n      glob: rgb.tif\n  requirements:\n  - class: DockerRequirement\n    dockerPull: ghcr.io/eoap/how-to/rio:1.0.0\n  - class: InitialWorkDirRequirement\n    listing:\n    - entryname: run.sh\n      entry: |-\n        #!/bin/bash\n        rio color -j -1 --out-dtype uint8 $1 rgb.tif \"gamma 3 0.95, sigmoidal rgb 35 0.13\"\n  cwlVersion: v1.2\n  baseCommand:\n  - /bin/bash\n  - run.sh\n  arguments:\n  - $( inputs.stacked.path )\n- id: rio_warp_stack\n  class: CommandLineTool\n  inputs:\n  - id: tiffs\n    type:\n      name: _:3d5c3b2c-bddf-4801-8c99-a7a47c9c898b\n      items: string\n      type: array\n  - id: epsg_code\n    type: string\n  outputs:\n  - id: stacked\n    type: File\n    outputBinding:\n      glob: warped.tif\n  requirements:\n  - class: DockerRequirement\n    dockerPull: ghcr.io/eoap/how-to/rio:1.0.0\n  - class: EnvVarRequirement\n    envDef:\n    - envName: GDAL_TIFF_INTERNAL_MASK\n      envValue: YES\n    - envName: GDAL_HTTP_MERGE_CONSECUTIVE_RANGES\n      envValue: YES\n    - envName: CPL_VSIL_CURL_ALLOWED_EXTENSIONS\n      envValue: .tif\n  - class: InitialWorkDirRequirement\n    listing:\n    - entryname: run.sh\n      entry: |-\n        #!/bin/bash\n        rio stack $@\n\n        rio warp --dst-crs $(inputs.epsg_code) stacked.tif warped.tif\n  cwlVersion: v1.2\n  baseCommand:\n  - /bin/bash\n  - run.sh\n  arguments:\n  - valueFrom: |\n      ${  \n        var arr = [];\n        for(var i=0; i&lt;inputs.tiffs.length; i++) {\n            arr.push(inputs.tiffs[i]); \n        }\n        return arr; \n        }\n  - stacked.tif\n- id: main\n  class: Workflow\n  inputs:\n  - id: stac-item\n    type: string\n  - id: epsg_code\n    default: native\n    type: string\n  - id: bands\n    type:\n      name: _:65301f32-d8f6-4a66-8006-fc9140eb476a\n      items: string\n      type: array\n  outputs:\n  - id: rgb-tif\n    outputSource: step_color/rgb\n    type: File\n  - id: stack\n    outputSource:\n    - step_stack/stacked\n    - step_warp_stack/stacked\n    pickValue: the_only_non_null\n    type: File\n  requirements:\n  - class: InlineJavascriptRequirement\n  - class: NetworkAccess\n    networkAccess: true\n  - class: ScatterFeatureRequirement\n  - class: MultipleInputFeatureRequirement\n  cwlVersion: v1.2\n  steps:\n  - id: step_curl\n    in:\n    - id: stac_item\n      source: stac-item\n    - id: common_band_name\n      source: bands\n    out:\n    - hrefs\n    run: '#stac'\n    scatter: step_curl/common_band_name\n    scatterMethod: dotproduct\n  - id: step_warp_stack\n    in:\n    - id: tiffs\n      source: step_curl/hrefs\n    - id: epsg_code\n      source: epsg_code\n    out:\n    - stacked\n    run: '#rio_warp_stack'\n    when: $( inputs.epsg_code != \"native\")\n  - id: step_stack\n    in:\n    - id: tiffs\n      source: step_curl/hrefs\n    - id: epsg_code\n      source: epsg_code\n    out:\n    - stacked\n    run: '#rio_stack'\n    when: $( inputs.epsg_code == \"native\")\n  - id: step_color\n    in:\n    - id: stacked\n      source:\n      - step_stack/stacked\n      - step_warp_stack/stacked\n      pickValue: the_only_non_null\n    out:\n    - rgb\n    run: '#rio_color'\n- id: rio_stack\n  class: CommandLineTool\n  inputs:\n  - id: tiffs\n    type:\n      name: _:1798ef1a-bfe1-4cf4-bd5c-c0ad4c2f355e\n      items: string\n      type: array\n  outputs:\n  - id: stacked\n    type: File\n    outputBinding:\n      glob: stacked.tif\n  requirements:\n  - class: DockerRequirement\n    dockerPull: ghcr.io/eoap/how-to/rio:1.0.0\n  - class: EnvVarRequirement\n    envDef:\n    - envName: GDAL_TIFF_INTERNAL_MASK\n      envValue: YES\n    - envName: GDAL_HTTP_MERGE_CONSECUTIVE_RANGES\n      envValue: YES\n    - envName: CPL_VSIL_CURL_ALLOWED_EXTENSIONS\n      envValue: .tif\n  - class: InitialWorkDirRequirement\n    listing:\n    - entryname: run.sh\n      entry: |-\n        #!/bin/bash\n        rio stack $@\n  cwlVersion: v1.2\n  baseCommand:\n  - /bin/bash\n  - run.sh\n  arguments:\n  - valueFrom: |\n      ${  \n        var arr = [];\n        for(var i=0; i&lt;inputs.tiffs.length; i++) {\n            arr.push(inputs.tiffs[i]); \n        }\n        return arr; \n        }\n  - stacked.tif\n</pre>"},{"location":"examples/#examples","title":"Examples\u00b6","text":"<p>The following examples show how to use the loader APIs:</p>"},{"location":"examples/#11-parsing-a-workflow","title":"1.1 Parsing a Workflow\u00b6","text":"<p>This sample shows how to read a CWL document from a remote public URL:</p>"},{"location":"examples/#12-serializing","title":"1.2 Serializing\u00b6","text":"<p>This sample shows how to write a CWL document to a stream (string, file, ...):</p>"},{"location":"examples/#13-obtaining-a-dictionary","title":"1.3 Obtaining a dictionary\u00b6","text":"<p>Probably users need a plain dictionary to add it inside another document, just invoke:</p>"},{"location":"examples/#21-parsing-a-commandlinetool","title":"2.1 Parsing a CommandLineTool\u00b6","text":"<p>This sample shows how to read a CWL document from a remote public URL:</p>"},{"location":"examples/#22-serializing","title":"2.2 Serializing\u00b6","text":"<p>This sample shows how to write a CWL document to a stream (string, file, ...):</p>"},{"location":"examples/#3-parsing-existing-data-structures","title":"3. Parsing existing data structures\u00b6","text":"<p>Users can load CWL Worflow(s) even from existing dictionaries:</p>"},{"location":"examples/#4-parsing-conditional-workflow","title":"4. Parsing conditional Workflow\u00b6","text":""},{"location":"api/latest/cwl_loader/","title":"Module cwl_loader","text":"<p>The CWL Loader Python library is a helper library to simplify the parse and serialize operations of CWL documents to and from cwl-utils object models.</p> <p>CWL Loader (c) 2025</p> <p>CWL Loader is licensed under Creative Commons Attribution-ShareAlike 4.0 International.</p> <p>You should have received a copy of the license along with this work. If not, see https://creativecommons.org/licenses/by-sa/4.0/.</p>"},{"location":"api/latest/cwl_loader/#sub-modules","title":"Sub-modules","text":"<ul> <li>cwl_loader.sort</li> <li>cwl_loader.utils</li> </ul>"},{"location":"api/latest/cwl_loader/#functions","title":"Functions","text":""},{"location":"api/latest/cwl_loader/#dump_cwl","title":"dump_cwl","text":"<pre><code>def dump_cwl(\n    process: Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation, List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]],\n    stream: &lt;class 'TextIO'&gt;\n) -&gt; Optional[Mapping[str, Any]]\n</code></pre> <p>Serializes a CWL document to its YAML representation.</p> <p>Parameters:</p> Name Type Description Default <code>process</code> <code>Processes</code> The CWL Process or Processes (if the CWL document is a <code>$graph</code>) None <code>stream</code> <code>Stream</code> The stream where serializing the CWL document None <p>Returns:</p> Type Description <code>None</code> none."},{"location":"api/latest/cwl_loader/#load_cwl_from_location","title":"load_cwl_from_location","text":"<pre><code>def load_cwl_from_location(\n    path: str,\n    cwl_version: str = 'v1.2',\n    sort: bool = True\n) -&gt; Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation, List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]]\n</code></pre> <p>Loads a CWL document from a URL or a file on the local File System, automatically detected.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> The URL or a file on the local File System where reading the CWL document None <code>uri</code> <code>Optional[str]</code> The CWL document URI. Default to <code>io://</code> None <code>cwl_version</code> <code>Optional[str]</code> The CWL document version. Default to <code>v1.2</code> None <p>Returns:</p> Type Description <code>Processes</code> The parsed CWL Process or Processes (if the CWL document is a <code>$graph</code>)."},{"location":"api/latest/cwl_loader/#load_cwl_from_stream","title":"load_cwl_from_stream","text":"<pre><code>def load_cwl_from_stream(\n    content: &lt;class 'TextIO'&gt;,\n    uri: str = 'io://',\n    cwl_version: str = 'v1.2',\n    sort: bool = True\n) -&gt; Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation, List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]]\n</code></pre> <p>Loads a CWL document from a stream of data.</p> <p>Parameters:</p> Name Type Description Default <code>content</code> <code>TextIO</code> The stream where reading the CWL document None <code>uri</code> <code>Optional[str]</code> The CWL document URI. Default to <code>io://</code> None <code>cwl_version</code> <code>Optional[str]</code> The CWL document version. Default to <code>v1.2</code> None <p>Returns:</p> Type Description <code>Processes</code> The parsed CWL Process or Processes (if the CWL document is a <code>$graph</code>)."},{"location":"api/latest/cwl_loader/#load_cwl_from_string_content","title":"load_cwl_from_string_content","text":"<pre><code>def load_cwl_from_string_content(\n    content: str,\n    uri: str = 'io://',\n    cwl_version: str = 'v1.2',\n    sort: bool = True\n) -&gt; Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation, List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]]\n</code></pre> <p>Loads a CWL document from its textual representation.</p> <p>Parameters:</p> Name Type Description Default <code>content</code> <code>str</code> The string text representing the CWL document None <code>uri</code> <code>Optional[str]</code> The CWL document URI. Default to <code>io://</code> None <code>cwl_version</code> <code>Optional[str]</code> The CWL document version. Default to <code>v1.2</code> None <p>Returns:</p> Type Description <code>Processes</code> The parsed CWL Process or Processes (if the CWL document is a <code>$graph</code>)"},{"location":"api/latest/cwl_loader/#load_cwl_from_yaml","title":"load_cwl_from_yaml","text":"<pre><code>def load_cwl_from_yaml(\n    raw_process: Union[Mapping[str, Any], ruamel.yaml.comments.CommentedMap],\n    uri: str = 'io://',\n    cwl_version: str = 'v1.2',\n    sort: bool = True\n) -&gt; Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation, List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]]\n</code></pre> <p>Loads a CWL document from a raw dictionary.</p> <p>Parameters:</p> Name Type Description Default <code>raw_process</code> <code>dict</code> The dictionary representing the CWL document None <code>uri</code> <code>Optional[str]</code> The CWL document URI. Default to <code>io://</code> None <code>cwl_version</code> <code>Optional[str]</code> The CWL document version. Default to <code>v1.2</code> None <p>Returns:</p> Type Description <code>Processes</code> The parsed CWL Process or Processes (if the CWL document is a <code>$graph</code>)."},{"location":"api/latest/cwl_loader/sort/","title":"Module cwl_loader.sort","text":"<p>The CWL Loader Python library is a helper library to simplify the parse and serialize operations of CWL documents to and from cwl-utils object models.</p> <p>CWL Loader (c) 2025</p> <p>CWL Loader is licensed under Creative Commons Attribution-ShareAlike 4.0 International.</p> <p>You should have received a copy of the license along with this work. If not, see https://creativecommons.org/licenses/by-sa/4.0/.</p>"},{"location":"api/latest/cwl_loader/sort/#functions","title":"Functions","text":""},{"location":"api/latest/cwl_loader/sort/#order_graph_by_dependencies","title":"order_graph_by_dependencies","text":"<pre><code>def order_graph_by_dependencies(\n    processes: List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]\n) -&gt; List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]\n</code></pre> <p>Sort top-level parsed objects so that any process referenced by a Workflow step.run</p> <p>appears before the Workflow that uses it.</p>"},{"location":"api/latest/cwl_loader/utils/","title":"Module cwl_loader.utils","text":"<p>The CWL Loader Python library is a helper library to simplify the parse and serialize operations of CWL documents to and from cwl-utils object models.</p> <p>CWL Loader (c) 2025</p> <p>CWL Loader is licensed under Creative Commons Attribution-ShareAlike 4.0 International.</p> <p>You should have received a copy of the license along with this work. If not, see https://creativecommons.org/licenses/by-sa/4.0/.</p>"},{"location":"api/latest/cwl_loader/utils/#variables","title":"Variables","text":"<pre><code>ORIGINAL_CWLVERSION\n</code></pre> <pre><code>T\n</code></pre>"},{"location":"api/latest/cwl_loader/utils/#functions","title":"Functions","text":""},{"location":"api/latest/cwl_loader/utils/#assert_connected_graph","title":"assert_connected_graph","text":"<pre><code>def assert_connected_graph(\n    process: Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation, List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]]\n)\n</code></pre>"},{"location":"api/latest/cwl_loader/utils/#assert_process_contained","title":"assert_process_contained","text":"<pre><code>def assert_process_contained(\n    process_id: str,\n    process: Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation, List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]]\n)\n</code></pre>"},{"location":"api/latest/cwl_loader/utils/#contains_process","title":"contains_process","text":"<pre><code>def contains_process(\n    process_id: str,\n    process: Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation, List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]]\n) -&gt; bool\n</code></pre>"},{"location":"api/latest/cwl_loader/utils/#remove_refs","title":"remove_refs","text":"<pre><code>def remove_refs(\n    process: Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation, List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]]\n)\n</code></pre>"},{"location":"api/latest/cwl_loader/utils/#search_process","title":"search_process","text":"<pre><code>def search_process(\n    process_id: str,\n    process: Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation, List[Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation]]]\n) -&gt; Union[cwl_utils.parser.cwl_v1_0.Workflow, cwl_utils.parser.cwl_v1_1.Workflow, cwl_utils.parser.cwl_v1_2.Workflow, cwl_utils.parser.cwl_v1_0.CommandLineTool, cwl_utils.parser.cwl_v1_1.CommandLineTool, cwl_utils.parser.cwl_v1_2.CommandLineTool, cwl_utils.parser.cwl_v1_0.ExpressionTool, cwl_utils.parser.cwl_v1_1.ExpressionTool, cwl_utils.parser.cwl_v1_2.ExpressionTool, cwl_utils.parser.cwl_v1_2.Operation, NoneType]\n</code></pre>"},{"location":"api/latest/cwl_loader/utils/#to_index","title":"to_index","text":"<pre><code>def to_index(\n    collection: List[~T]\n) -&gt; Mapping[str, ~T]\n</code></pre>"}]}